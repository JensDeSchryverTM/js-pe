<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"
        defer></script>
    <title>JavaScript Formulier - Jens De Schryver</title>
</head>

<body>
    <main class="container">
        <h1>Registreer</h1>
        <p>Meld je aan bij Anoroc Services, wij beschermen jouw software tegen malware!</p>
        <div class="row">
            <div class="col-md-8">
                <form class="row">
                    <div class="col-md-6 mb-3">
                        <label for="voornaam" class="form-label">Voornaam</label>
                        <input type="text" class="form-control" id="voornaam" placeholder="Uw voornaam">
                    </div>
                    <div class="col-md-6 mb-3">
                        <label for="naam" class="form-label">Naam</label>
                        <input type="text" class="form-control" id="naam" placeholder="Uw naam">
                    </div>

                    <div class="col-md-6 mb-3">
                        <label for="gebruikersnaam" class="form-label">Gebruikersnaam</label>
                        <div class="input-group">
                            <span class="input-group-text" id="gebruikersnaam">@</span>
                            <input type="text" class="form-control" placeholder="r0909312" aria-label="Username">
                        </div>
                    </div>
                    <div class="col-md-6 mb-3">
                        <label for="email" class="form-label">E-mailadres</label>
                        <input type="email" class="form-control" id="email" placeholder="mail@example.be">
                    </div>
                    <div class="col-md-6 mb-3">
                        <label for="wachtwoord" class="form-label">Wachtwoord</label>
                        <input type="password" class="form-control" id="wachtwoord"
                            aria-describedby="passwordHelpBlock">
                        <div id="passwordHelpBlock" class="form-text">Je wachtwoord moet minstens 8 tekens lang zijn
                        </div>
                    </div>
                    <div class="col-md-6 mb-3">
                        <label for="herhaalwachtwoord" class="form-label">Herhaal wachtwoord</label>
                        <input type="password" class="form-control" id="herhaalwachtwoord">
                    </div>

                    <div class="col-md-12 mb-3">
                        <label for="adres" class="form-label">Adres</label>
                        <input type="text" class="form-control" id="adres" placeholder="Uw adres en huisnummer">
                    </div>

                    <div class="col-md-5 mb-3">
                        <label for="land" class="form-label">Land</label>
                        <select class="form-select" id="land" aria-label="Default select example">
                            <option selected>Kies een land</option>
                            <option value="1">België</option>
                            <option value="2">Nederland</option>
                            <option value="3">Frankrijk</option>
                            <option value="4">Duitsland</option>
                            <option value="5">Luxemburg</option>
                            <option value="6">Verenigd Koninkrijk</option>
                            <option value="7">Spanje</option>
                            <option value="8">Italië</option>
                            <option value="9">Portugal</option>
                            <option value="10">Zwitserland</option>
                        </select>
                    </div>
                    <div class="col-md-4 mb-3">
                        <label for="provincie" class="form-label">Provincie</label>
                        <select class="form-select" id="provincie" aria-label="Default select example">
                            <option selected>Kies een provincie</option>
                            <option value="1">Antwerpen</option>
                            <option value="2">Vlaams-Brabant</option>
                            <option value="3">Waals-Brabant</option>
                            <option value="4">Henegouwen</option>
                            <option value="5">Luik</option>
                            <option value="6">Luxemburg</option>
                            <option value="7">Namen</option>
                            <option value="8">Oost-Vlaanderen</option>
                            <option value="9">West-Vlaanderen</option>
                            <option value="10">Limburg</option>
                        </select>
                    </div>
                    <div class="col-md-3 mb-3">
                        <label for="postcode" class="form-label">Postcode</label>
                        <input type="number" class="form-control" id="postcode" placeholder="Uw postcode">
                    </div>

                    <hr class="mt-3 mb-4">

                    <div class="col-md-7 mb-3">
                        <h3>Hou me op de hoogte</h3>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" value="" id="nieuwsbrief">
                            <label class="form-check-label" for="nieuwsbrief">Inschrijven voor onze nieuwsbrief</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" value="" id="voorwaarden">
                            <label class="form-check-label" for="voorwaarden">Ik ga akkoord met de algemene
                                voorwaarden.</label>
                        </div>
                    </div>
                    <div class="col-md-5 mb-3">
                        <h3>Betaling</h3>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="betaling" id="bankingapp"
                                value="Banking app" checked>
                            <label class="form-check-label" for="bankingapp">Banking app</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="betaling" id="overschrijving">
                            <label class="form-check-label" for="overschrijving">Overschrijving</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="betaling" id="visa">
                            <label class="form-check-label" for="visa">Visa card</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="betaling" id="paypal">
                            <label class="form-check-label" for="paypal">PayPal</label>
                        </div>
                    </div>

                    <hr class="mt-3 mb-4">
                    <button type="button" class="btn btn-primary mb-4" id="verzenden">Wave your magic wand</button>
                </form>
            </div>
            <div class="col-md-4">
                <div id="result" class="" role="alert">
                    <!-- Hier komen de formulier meldingen -->
                    <h4 id="resulTitel" class="alert-heading"></h4>
                    <p id="resultMelding"></p>
                </div>
                <div id="betalingswijze" class="" role="alert">
                    <!-- Hier komt de betalingswijze -->
                    <h4 id="betalingswijzeTitel" class="alert-heading"></h4>
                    <p id="keuzeBetaling"></p>
                </div>
            </div>
        </div>
    </main>
    <script>
        let errors = []
        let melding = ""
        let resultDiv = document.querySelector("#result")
        let resultTitel = document.querySelector("#resulTitel")
        let resultMelding = document.querySelector("#resultMelding")
        let betalingswijzeDiv = document.querySelector("#betalingswijze")
        let betalingswijzeTitel = document.querySelector("#betalingswijzeTitel")
        let keuzeBetaling = document.querySelector("#keuzeBetaling")
        let verzenden = document.querySelector("#verzenden")


        verzenden.addEventListener("click", validateForm)


        function checkEmptyField(veld, melding) {
            if (veld.value == "") {
                errors.push(melding)
            }
        }

        function validateEmail(email) {
            // RegEx voor e-mailvalidatie
            // https://regex101.com/
            // https://stackoverflow.com/questions/67375264/exceptional-regex-for-email-id-validation-in-javascript
            let emailRegEx = /^[\w-]+(\.[\w-]+)*@[a-zA-Z0-9-]+(\.[a-zA-Z0-9-]+)*(\.[a-zA-Z]{2,})$/
            return emailRegEx.test(email)
        }


        function validateForm() {
            errors = []
            checkEmptyField(document.querySelector("#voornaam"), "Het veld voornaam is vereist.")
            checkEmptyField(document.querySelector("#naam"), "Het veld naam is vereist.")
            checkEmptyField(document.querySelector("#gebruikersnaam"), "het veld gebruikersnaam is vereist.")
            checkEmptyField(document.querySelector("#email"), "Het veld email is vereist.")
            checkEmptyField(document.querySelector("#adres"), "Het veld adres is vereist.")

            if (!validateEmail(document.querySelector("#email").value)) {
                errors.push("E-mailadres is niet correct.")
            }

            if (errors.length > 0) {
                // Er zijn fouten gevonden, toon deze aan de gebruiker in de div result:
                // https://developer.mozilla.org/en-US/docs/Web/API/Element/classList
                resultDiv.classList.add("alert", "alert-danger")
                resultTitel.innerHTML = "Yikes, errors.."
                resultMelding.innerHTML = errors.join("<br>")
            } else {
                // Er zijn geen fouten gevonden, Goed gedaan melding:
                resultDiv.classList.remove("alert", "alert-danger")
                resultDiv.classList.add("alert", "alert-success")
                resultTitel.innerHTML = "Goed gedaan!"
                resultMelding.innerHTML = "Aww yeah, je werd geregistreerd."
                // Betalingswijze:
                betalingswijzeDiv.classList.add("alert", "alert-info")
                betalingswijzeTitel.innerHTML = "Betalingswijze"
                keuzeBetaling.innerHTML = "Je hebt gekozen voor: Hier komt de betalingswijze"
            }
        }

    </script>
</body>

</html>